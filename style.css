:root {
  --bg-grad-start: #FFE5E8;
  --bg-grad-end: #FFD7DA;
  --surface: #FFF;
  --surface-muted: #F7F7F7;
  --surface-card: #F3F6F8;
  --border: #E0E0E0;
  --border-soft: rgba(0, 0, 0, .05);
  --text: #232326;
  --text-2: #6C6C6C;
  --accent: #E94560;
  --accent-2: #FF5C74;
  --comp: #007B83;
  --comp-2: #00A6A8;
  --chip: #EEF2F5;
  --shadow-soft: 0 4px 20px rgba(0, 0, 0, .06);
  --shadow-card: 0 2px 6px rgba(0, 0, 0, .04);
  --shadow-card-hover: 0 5px 14px rgba(0, 0, 0, .08);
}

/* Reset */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box
}

html,
body {
  height: 100%
}

img {
  max-width: 100%;
  display: block
}

button {
  font: inherit
}

/* Bas */
body {
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background-color: #FFE5E8;
  line-height: 1.55;
  padding: 20px;
}

/* Header */
.header {
  background: rgba(255, 255, 255, .85);
  backdrop-filter: blur(6px);
  border: 1px solid var(--border-soft);
  border-radius: 14px;
  padding: 20px 24px;
  margin-bottom: 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  box-shadow: var(--shadow-soft);
}

.header h1 {
  font-size: 1.8rem;
  color: var(--text);
  letter-spacing: .2px
}

.header-clock {
  display: none !important
}

/* Knappar */
.header-btn {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #fff;
  border: none;
  padding: 12px 20px;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
  transition: filter .2s ease, transform .02s ease-in;
}

.header-btn:hover {
  filter: brightness(1.05)
}

.header-btn:active {
  transform: translateY(1px)
}

#langBtn,
.lang-btn {
  background: linear-gradient(90deg, var(--comp), var(--comp-2));
  color: #fff;
  border: none;
  padding: 10px 18px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: filter .2s ease, transform .02s ease-in;
}

#langBtn:hover,
.lang-btn:hover {
  filter: brightness(1.06)
}

#langBtn:active,
.lang-btn:active {
  transform: translateY(1px)
}

/* Trafiksektion */
.traffic-section {
  position: relative;
  background: rgba(255, 255, 255, .8);
  backdrop-filter: blur(4px);
  border: 1px solid var(--border-soft);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: var(--shadow-soft);
}

.traffic-section::before {
  content: "";
  position: absolute;
  inset: 0 0 auto;
  height: 40px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, .6), transparent);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
}

.traffic-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px
}

.traffic-header h2 {
  margin: 0;
  font-size: 1.5rem;
  color: var(--text);
  border-left: 4px solid var(--accent);
  padding-left: 10px;
  font-weight: 700
}

/* Klocka i trafikheadern */
.clock {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--surface-muted);
  border: 1px solid var(--border);
  padding: 6px 14px;
  border-radius: 999px;
  color: var(--text);
  font-family: 'Orbitron', system-ui, sans-serif;
  font-size: .95rem;
}

.clock .dot {
  opacity: .6
}

/* Busslista */
.traffic-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px
}

.traffic-cards .traffic-card:nth-child(n+5) {
  display: none
}

/* visa bara 4 närmast */

.traffic-card {
  background: var(--surface-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: transform .25s ease, opacity .35s ease, box-shadow .2s ease;
  will-change: transform, opacity;
  box-shadow: var(--shadow-card);
}

.traffic-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-card-hover)
}

.bus-number {
  padding: 6px 12px;
  border-radius: 8px;
  color: #fff;
  font-size: 1rem;
  font-weight: 800;
  display: inline-block;
  min-width: 86px;
  text-align: center
}

.bus-destination {
  font-size: .95rem;
  color: var(--text-2);
  margin-top: 6px
}

.time-value {
  font-size: 1.2rem;
  font-weight: 800;
  text-align: right;
  color: var(--text)
}

.time-label {
  margin-top: 6px;
  display: inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--chip);
  color: var(--text-2);
  font-size: .85rem;
  border: 1px solid var(--border)
}

/* Busslinjefärger */
.bus-1 {
  background: #0072bc
}

.bus-2 {
  background: #ef3e36
}

.bus-3 {
  background: #fcb900;
  color: #232326
}

.bus-4 {
  background: #38b000
}

.bus-5 {
  background: #ff6b6b
}

.bus-6 {
  background: #6f42c1
}

.bus-7 {
  background: #ff8c00;
  color: #232326
}

.bus-8 {
  background: #009688
}

.bus-9 {
  background: #3f51b5
}

/* Avgångsanimationer */
.traffic-card.departing {
  transform: translateX(-120%);
  opacity: 0
}

.traffic-card.arriving {
  transform: translateX(16px);
  opacity: 0
}

.traffic-card.arriving.show {
  transform: translateX(0);
  opacity: 1;
  animation: pop .4s ease
}

@keyframes pop {
  0% {
    transform: scale(.96);
    opacity: 0
  }

  70% {
    transform: scale(1.02);
    opacity: 1
  }

  100% {
    transform: scale(1)
  }
}

/* Vanliga sektioner */
.section {
  position: relative;
  background: rgba(255, 255, 255, .85);
  backdrop-filter: blur(4px);
  border: 1px solid var(--border-soft);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 32px;
  box-shadow: var(--shadow-soft);
}

.section h2 {
  font-size: 1.5rem;
  margin-bottom: 14px;
  color: var(--text);
  border-left: 4px solid var(--accent);
  padding-left: 10px;
  font-weight: 700
}

/* News */
.news-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px
}

.news-card {
  background: var(--surface-muted);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease;
  box-shadow: var(--shadow-card)
}

.news-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-card-hover)
}

.news-title {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 8px
}

.news-time {
  color: var(--text-2);
  font-size: .9rem
}

/* Tvåspalts-layout: Spela & Lär + Lokal Information */
.two-col {
  display: grid;
  grid-template-columns: 1fr 1.4fr;
  gap: 20px;
  align-items: start
}

/* Spela & Lär: rubrik vänster, knapp centrerad */
.game-section {
  text-align: left;
  padding: 18px 20px
}

.game-section h2 {
  margin-bottom: 8px
}

.game-section .header-btn {
  display: block;
  margin: 10px auto 0
}

/* Info */
.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px
}

.info-card {
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 18px;
  border-radius: 12px;
  text-align: center;
  box-shadow: var(--shadow-card)
}

.info-title {
  font-size: 1.15rem;
  font-weight: 800;
  margin-bottom: 10px;
  color: var(--text)
}

.distance-badge {
  background: linear-gradient(90deg, var(--comp), var(--comp-2));
  color: #fff;
  padding: 6px 14px;
  border-radius: 999px;
  font-weight: 700;
  display: inline-block
}

.walk-time {
  color: var(--text-2);
  margin-left: 10px
}

/* Modal */
.modal-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .45);
  z-index: 1000
}

.modal-backdrop.open {
  display: flex;
  justify-content: center;
  align-items: center
}

.modal {
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 24px;
  border-radius: 12px;
  max-width: 600px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  box-shadow: var(--shadow-soft)
}

.modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #EFEFEF;
  border: 1px solid var(--border);
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem
}

.modal-close:hover {
  background: #E8E8E8
}

.modal h3 {
  font-size: 1.25rem;
  margin-bottom: 8px;
  color: var(--text)
}

.modal-meta {
  color: var(--text-2);
  margin-bottom: 12px
}

body.modal-open {
  overflow: hidden
}

/* ===== Kompakt väderkort (passar exakt i tomrummet) ===== */
.weather-section{
  padding:16px 18px;                 /* lite tajtare än standard .section */
}
.weather-section h2{
  margin-bottom:8px;                  /* liten rubrikmarginal */
  font-size:1.2rem;                   /* lite mindre rubrik så kortet blir lägre */
}

.weather-compact{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  min-height:86px;                    /* kompakt höjd, justera vid behov (80–100) */
}

.wx-icon{
  font-size:1.8rem;
  line-height:1;
  filter:saturate(0.9);
}

.wx-main{
  display:flex;
  flex-direction:column;
  min-width:96px;
}
.wx-temp{
  font-size:1.6rem;
  font-weight:700;
  color:var(--accent);
  line-height:1.1;
}
.wx-cond{
  font-size:.95rem;
  color:var(--text-2);
}

.wx-meta{
  display:flex;
  align-items:baseline;
  gap:8px;
  color:var(--text-2);
  font-size:.95rem;
}
.wx-meta .dot{ opacity:.6; }

.quiz-status{
  text-align:center;
  font-weight:700;
  margin-bottom:12px;
  color:var(--text);
}

.quiz-choices{ margin:16px 0; }

.quiz-option{
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 14px;
  margin-bottom: 10px;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: border-color .15s ease, background .15s ease, box-shadow .2s ease;
  box-shadow: var(--shadow-card);
}
.quiz-option:hover{ border-color:#C9D3DC; background:#FAFBFC; }
.quiz-option input{ width:20px; height:20px; }
.quiz-option.selected{ border-color: var(--comp); background:#F0FBFC; }
.quiz-option.correct{ border-color:#45b36b; background:#effaf3; }
.quiz-option.incorrect{ border-color:#d64545; background:#fdecec; }

.quiz-nav{ text-align:center; margin-top:16px; }

.quiz-advance{
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  border: none;
  color:#fff;
  padding: 12px 24px;
  border-radius: 10px;
  font-size: 1rem;
  cursor: pointer;
  font-weight: 700;
  transition: filter .2s ease;
}
.quiz-advance:hover{ filter: brightness(1.05); }
.quiz-advance:disabled{ background:#ccc; cursor:not-allowed; }


